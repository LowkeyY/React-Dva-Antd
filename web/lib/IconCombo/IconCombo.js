Ext.namespace("lib.IconCombo");lib.IconCombo.IconCombo=Ext.extend(Ext.form.ComboBox,{initComponent:function(){this.iconWidth=this.iconWidth||16;var A=this.iconWidth;if(!Ext.util.CSS.getRule("ux-icon-combo-icon-"+A)){var B=".ux-icon-combo-icon-"+A+" {background-repeat: no-repeat;background-position: 0 50%;width: "+(A+2)+"px;height: 15px;}.ux-icon-combo-input-"+A+" {padding-left: "+(A+9)+"px;}.x-form-field-wrap .ux-icon-combo-icon-"+A+" {top: 4px;left: 4px;}.ux-icon-combo-item-"+A+" {background-repeat: no-repeat ! important;background-position: 2px 50% ! important;padding-left: "+(A+8)+"px ! important;height: 17px;}";Ext.util.CSS.createStyleSheet(B,"ux-IconCombo-css-"+A);}this.iconClsTpl=this.iconClsTpl||("{"+this.iconClsField+"}");Ext.apply(this,{tpl:'<tpl for="."><div class="x-combo-list-item ux-icon-combo-item-'+A+" "+this.iconClsTpl+'">{'+this.displayField+"}</div></tpl>"});this.iconClsTpl=new Ext.Template(this.iconClsTpl);lib.IconCombo.IconCombo.superclass.initComponent.apply(this,arguments);},onRender:function(B,A){lib.IconCombo.IconCombo.superclass.onRender.apply(this,arguments);this.wrap.applyStyles({position:"relative"});this.el.addClass("ux-icon-combo-input-"+this.iconWidth);this.icon=Ext.DomHelper.append(this.el.up("div.x-form-field-wrap"),{tag:"div",style:"position:absolute"});},afterRender:function(){lib.IconCombo.IconCombo.superclass.afterRender.apply(this,arguments);if(undefined!==this.value){this.setValue(this.value);}},setIconCls:function(){var A=this.store.query(this.valueField||this.displayField,this.getValue()).itemAt(0);if(A&&this.icon){this.icon.className="ux-icon-combo-icon-"+this.iconWidth+" "+this.iconClsTpl.apply(A.data);}},reset:function(A){lib.IconCombo.IconCombo.superclass.reset.apply(this,arguments);this.icon.className="";},beforeBlur:Ext.emptyFn,setValue:function(A){lib.IconCombo.IconCombo.superclass.setValue.call(this,A);this.setIconCls();}});Ext.reg("iconcombo",lib.IconCombo.IconCombo);
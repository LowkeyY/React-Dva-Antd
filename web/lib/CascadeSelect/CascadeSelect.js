Ext.namespace("lib.CascadeSelect");lib.CascadeSelect.CascadeSelect=Ext.extend(Ext.form.ComboBox,{widgetId:null,displayField:"text",valueField:"value",typeAhead:false,autoSelect:false,storeConfig:false,editable:false,triggerAction:"all",initComponent:function(){if(!this.hiddenName){this.hiddenName=this.name;}var A=this.findParentByType("form");A=(A)?A.param:{};this.store=new Ext.data.JsonStore(Ext.apply({url:"/lib/CascadeSelect/CascadeSelect.jcp",root:"items",baseParams:{objectId:this.widgetId},fields:["text","value"]},this.storeConfig||{}));lib.CascadeSelect.CascadeSelect.superclass.initComponent.call(this);this.store.on("load",function(){if(this.view){this.view.setWidth(this.width-2);}},this);this.on("beforequery",function(B){var C=this.findParentBy(function(E){return typeof (E.programType)!="undefined";});if(!Ext.isEmpty(C)&&typeof (C)=="object"&&typeof (C.param)!="undefined"){if(this.paramCache!=C.paramCache){this.paramCache=B.q=C.paramCache;}var D=Ext.apply({},C.param);delete D.objectId;Ext.apply(this.store.baseParams,D);B.forceAll=true;B.query=Ext.encode(D);}},this);},onRender:function(B,A){this.listWidth=this.width;lib.CascadeSelect.CascadeSelect.superclass.onRender.apply(this,arguments);},setValue:function(A,B){if(!this.rendered){this.value=A;return ;}if(!B){if(A instanceof Array){A={value:A[0],text:A[1]};}Ext.form.ComboBox.superclass.setValue.call(this,A);}lib.CascadeSelect.CascadeSelect.superclass.setValue.call(this,A);}});Ext.reg("cascadeselect",lib.CascadeSelect.CascadeSelect);
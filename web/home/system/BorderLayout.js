Ext.override(Ext.layout.BorderLayout,{alwaysUsePctSizes:false,onLayout:function(B,X){var C;if(!this.rendered){X.position();X.addClass("x-border-layout-ct");var M=B.items.items;C=[];for(var Q=0,R=M.length;Q<R;Q++){var U=M[Q];var F=U.region;if(U.collapsed){C.push(U);}U.collapsed=false;this.convertPctSizes(U,X);if(U.rendered){if(this.alwaysUsePctSizes){U.setSize(U.width,U.height);U.width=U.initialConfig.width;U.height=U.initialConfig.height;}}else{U.cls=U.cls?U.cls+" x-border-panel":"x-border-panel";U.render(X,Q);}this[F]=F!="center"&&U.split?new Ext.layout.BorderLayout.SplitRegion(this,U.initialConfig,F):new Ext.layout.BorderLayout.Region(this,U.initialConfig,F);this[F].render(X,U);}this.rendered=true;}var L=X.getViewSize();if(L.width<20||L.height<20){if(C){this.restoreCollapsed=C;}return ;}else{if(this.restoreCollapsed){C=this.restoreCollapsed;delete this.restoreCollapsed;}}var J=L.width,S=L.height;var I=J,P=S,G=0,H=0;var N=this.north,K=this.south,E=this.west,T=this.east,U=this.center;if(!U){throw"No center region defined in BorderLayout "+B.id;}if(N&&N.isVisible()){var W=N.getSize();var O=N.getMargins();W.width=J-(O.left+O.right);W.x=O.left;W.y=O.top;G=W.height+W.y+O.bottom;P-=G;N.applyLayout(W);}if(K&&K.isVisible()){var W=K.getSize();var O=K.getMargins();W.width=J-(O.left+O.right);W.x=O.left;var V=(W.height+O.top+O.bottom);W.y=S-V+O.top;P-=V;K.applyLayout(W);}if(E&&E.isVisible()){var W=E.getSize();var O=E.getMargins();W.height=P-(O.top+O.bottom);W.x=O.left;W.y=G+O.top;var A=(W.width+O.left+O.right);H+=A;I-=A;E.applyLayout(W);}if(T&&T.isVisible()){var W=T.getSize();var O=T.getMargins();W.height=P-(O.top+O.bottom);var A=(W.width+O.left+O.right);W.x=J-A+O.left;W.y=G+O.top;I-=A;T.applyLayout(W);}var O=U.getMargins();var D={x:H+O.left,y:G+O.top,width:I-(O.left+O.right),height:P-(O.top+O.bottom)};U.applyLayout(D);if(C){for(var Q=0,R=C.length;Q<R;Q++){C[Q].collapse(false);}}if(Ext.isIE&&Ext.isStrict){X.repaint();}},convertPctSizes:function(C,B){if((C.region=="east"||C.region=="west")&&typeof C.width=="string"){var A=C.width.match(/(\d+)%/);if(A[1]){C.width=Ext.fly(B).getWidth(true)/100*parseInt(A[1],10);}}else{if((C.region=="north"||C.region=="south")&&typeof C.height=="string"){var A=C.height.match(/(\d+)%/);if(A[1]){C.height=Ext.fly(B).getHeight(true)/100*parseInt(A[1],10);}}}}});
window.lg=function(B){if(Ext.isIE&&!Ext.isSupportIEConsole){try{console;}catch(A){console={log:Ext.emptyFn};}Ext.isSupportIEConsole=true;}console.log(B);};Ext.onUnload=function(A,B,C){if(!this._unloadEvent){this._unloadEvent=new Ext.util.Event();this._beforeUnloadEvent=new Ext.util.Event();Ext.EventManager.addListener(window,"unload",function(){Ext._unloadEvent.fire();});window.onbeforeunload=function(){if(window.legalQuit){window.legalQuit=false;}else{return Ext._beforeUnloadEvent.getMessage();}};this._beforeUnloadEvent.getMessage=function(){var G=this.listeners,D=G.length,F=0,E,H=[];if(D>0){for(var I;F<D;F++){E=G[F];E&&(I=E.fireFn.call(E.scope||window));Ext.isEmpty(I)||(H=H.concat(I));}if(H.length>0){for(var F=0;F<H.length;F++){H[F]="  "+(F+1)+"、"+H[F]+"\n";}return"因为以下原因".loc()+":\n\n"+H.join()+"\n"+"当前操作可能导致数据丢失,您确定要继续吗".loc()+"?";}}};}C&&this._unloadEvent.addListener(C,A,{});B&&this._beforeUnloadEvent.addListener(B,A,{});};Ext.unUnload=function(A,B,C){if(this._unloadEvent){C&&this._unloadEvent.removeListener(C,A);B&&this._beforeUnloadEvent.removeListener(B,A);}};Ext.override(Ext.util.Observable,{once:function(A,C,B,D){(D||(D={})).single=true;this.on(A,C,B,D);}});Ext.override(Ext.Window,{toBack:function(){this.manager=this.manager||Ext.WindowMgr;this.manager.sendToBack(this);return this;}});Ext.override(Ext.Window,{toFront:function(B){this.manager=this.manager||Ext.WindowMgr;if(this.manager.bringToFront(this)){if(!B||!B.getTarget().focus){this.focus();}}return this;}});Ext.Shadow.Pool=function(){var B=[],A=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var C=B.shift();try{if(!C){C=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,A));C.autoBoxAdjust=false;}return C;}catch(D){return null;}},push:function(C){B.push(C);}};}();Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(A){A=Ext.get(A);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el!=null){if(this.el.dom.nextSibling!=A.dom){this.el.insertBefore(A);}}}if(this.el!=null){this.el.setStyle("z-index",this.zIndex||parseInt(A.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")";}this.realign(A.getLeft(true),A.getTop(true),A.getWidth(),A.getHeight());this.el.dom.style.display="block";}},isVisible:function(){return this.el?true:false;},realign:function(A,M,L,D){if(!this.el){return ;}var I=this.adjusts,G=this.el.dom,N=G.style,E=0,K=(L+I.w),C=(D+I.h),F=K+"px",J=C+"px",H,B;N.left=(A+I.l)+"px";N.top=(M+I.t)+"px";if(N.width!=F||N.height!=J){N.width=F;N.height=J;if(!Ext.isIE){H=G.childNodes;B=Math.max(0,(K-12))+"px";H[0].childNodes[1].style.width=B;H[1].childNodes[1].style.width=B;H[2].childNodes[1].style.width=B;H[1].style.height=Math.max(0,(C-12))+"px";}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el;}},setZIndex:function(A){this.zIndex=A;if(this.el){this.el.setStyle("z-index",A);}}};Ext.apply(Function.prototype,{createCallBackWithArgs:function(A){var B=this;return A?function(){var C=Array.prototype.slice.call(arguments,0);return B.apply(this||window,C.concat(A));}:function(){var C=Array.prototype.slice.call(arguments,0);return B.apply(this||window,C);};}});Ext.msgTitleTable={ERROR:"错误",INFO:"提示",WARNING:"警示",QUESTION:"询问"};Ext.reportDefinedError=function(A){Ext.Ajax.request({method:"POST",url:"/bin/exe/ErrorReport.jcp",params:{content:Ext.getDom(A).innerHTML},callback:function(){Ext.MessageBox.setIcon(Ext.MessageBox.INFO);Ext.MessageBox.updateText("错误报告已发送至管理员!".loc());}});};Ext.viewDefinedError=function(B){var A=Ext.decode(Ext.getDom(B).innerHTML);alert(A.causeStackTrace);};Ext.msg=function(G,I,C){if(G==null||typeof (G)=="undefined"){return ;}G=G.toUpperCase();var B;if(G=="ERR"){if(typeof (I)!="object"){I=(I)?Ext.decode(I):{};}else{if(typeof (I.status)!="undefined"&&typeof (I.statusText)!="undefined"){var F=I.status;if(F<200||F>299){switch(F){case 500:I={errorNumber:55,message:"服务器发生未知错误".loc(),solution:"由于此问题无法在本地解决,请联系管理员".loc()};break;case 403:I={errorNumber:56,message:"服务器拒绝访问".loc(),solution:"请联系系统管理员".loc()};break;case 404:I={errorNumber:57,message:"未找到请求的页面".loc(),solution:"由于此问题无法在本地解决,请联系管理员".loc()};break;case 405:I={errorNumber:58,message:"不允许访问本页面的当前方法".loc(),solution:"请确认您是否有权限进行此操作,否则请联系管理员.".loc()};break;case 408:case -1:I={errorNumber:51,message:"访问超时".loc(),solution:"请稍过一会儿重新操作,如果看到此错误超过三次以上,请联系系统管理员.".loc()};break;case 502:I={errorNumber:52,message:"网络错误,无法连接".loc(),solution:"请检查网络,及代理服务器.".loc()};break;case 503:I={errorNumber:53,message:"系统忙,目前无法使用服务器".loc(),solution:"服务器无响应,可能是由于超负荷运转或进行停机维护,请过一段时间重新操作".loc()+","+"如果长时间看到此错误,请联系系统管理员".loc()+"."};break;case 504:case 0:case undefined:I={errorNumber:50,message:"网络已断开,不能连接到服务器".loc(),solution:"请检查本机网络是否连通.如果本机安装了防火墙软件,请关闭本机防火墙后再试".loc()+";"+"如果仍未解决,请联系系统管理员".loc()};break;default:I={errorNumber:54,message:"访问错误,错误代码为:".loc()+F+","+"由网络返回的错误信息是".loc()+":'"+I.statusText+"'"};}}else{I=Ext.decode(I.responseText);}}else{if(Ext.isDefined(I.responseText)){I=Ext.decode(I.responseText);}}}var H=(typeof (I.errorNumber)=="undefined")?"系统发生未知错误".loc():"系统发生错误".loc()+"("+"编号".loc()+I.errorNumber+":)";var A="<span style='font-size:15px;font-weight:600;'>"+((typeof (I.message)=="undefined")?"系统发生未指明原因的错误".loc():I.message)+"</span>";if(typeof (I.solution)!="undefined"){A+="<p>*"+"您可以尝试采用以下方法解决问题".loc()+":<div style='padding-left:30px;'>"+I.solution+"</div>";}if(typeof (I.report)!="undefined"){var E=Ext.id();Ext.copyTo(I.report,I,"message,userId,userType");A+="<p>*"+"您可以点击".loc()+"<a href='#' onclick='Ext.reportDefinedError(\""+E+"\")' >"+"此处".loc()+"</a>"+"发送错误报告给系统管理员.".loc()+"<br>*或点击<a href='#' onclick='Ext.viewDefinedError(\""+E+"\")' >"+"此处".loc()+"</a>查看向服务器发送的错误信息<br>";A+="<textarea id='"+E+"' style='display:none;'>"+Ext.encode(I.report)+"</textarea>";}B={title:H,msg:A,minWidth:400,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.ERROR};}else{if(G=="INFO"){B={html:I,title:Ext.msgTitleTable[G],hideDelay:2000,closable:false};}else{if(G=="INFOS"){B={title:"温馨提示",msg:I,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.INFO};}else{if(G=="CONFIRM"){B={title:"提示".loc(),msg:I,buttons:Ext.MessageBox.YESNO,icon:Ext.MessageBox.QUESTION};if(typeof (C)=="function"){B.fn=C;}}else{if(G=="ERROR"&&I instanceof Error){var D="错误".loc()+":"+I.name+"<br>"+"原因".loc()+(I.message||I.type);if(I.number){D+="<br>"+"错误代码".loc()+":"+(I.number&65535);}if(I.lineNumber){D+="<br>行号:"+"第".loc()+I.lineNumber+"行".loc();}if(I.stack){D+="<div style='padding-left:47px;'>"+"调用记录".loc()+":<div style='padding-left:20px;'>"+I.stack.replace(/\(.*\)\@/ig,"<br>at&nbsp;").substring(4)+"</div></div>";}I=D;}else{if(G=="WARN"){G="WARNING";}}B={title:Ext.msgTitleTable[G],msg:I,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox[G]};}}}}if(typeof (C)=="object"){Ext.apply(B,C);}return(G=="INFO"&&Ext.isDefined(window.WorkBench))?WorkBench.Desk.getDesktop().showNotification(B):Ext.MessageBox.show(B);};if(Ext.form.DateField){Ext.override(Ext.form.DateField,{altFormats:"Y/m/d|m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",setValue:function(A){var B=this.parseDate(A);this.valueField.value=Ext.isDate(B)?B.dateFormat("Y/m/d"):B;Ext.form.DateField.superclass.setValue.call(this,this.formatDate(B));},onRender:function(C,B){var A=this.name||this.id;this.name=A+"Text";Ext.form.DateField.superclass.onRender.call(this,C,B);this.valueField=this.wrap.createChild({tag:"input",type:"hidden",name:A},false,true);this.name=A;},getName:function(){return this.name||(this.rendered&&this.el.dom.name?this.el.dom.name:(this.hiddenName||""));}});}if(Ext.Panel){Ext.Panel.prototype.redering=Ext.Panel.prototype.onRender;Ext.override(Ext.Panel,{onRender:function(B,A){this.redering(B,A);if(this.icon){this.setIcon(this.icon);}},setIcon:function(B){if(this.rendered&&this.header){var A;if(this.frame){this.header.addClass("x-panel-icon");A=this.header;}else{var C=this.header.dom;A=C.firstChild&&String(C.firstChild.tagName).toLowerCase()=="img"?C.firstChild:null;if(!A){A=Ext.DomHelper.insertBefore(C.firstChild,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon",style:"float:left;"});}A=Ext.get(A);}if(this.iconCls){A.removeClass(this.iconCls);}A.setStyle("background-image","url("+B+")");}}});}if(Ext.form.Field){Ext.override(Ext.form.Field,{getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:(this.hiddenName||this.name||"");},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue();if(typeof (this.qtip)=="object"){Ext.QuickTips.register(Ext.apply({target:Ext.id(this.el)},this.qtip));}},getVisibilityEl:function(){return this.fieldLabel?this.container.parent():this.getActionEl();}});}if(Ext.form.Checkbox){Ext.override(Ext.form.Checkbox,{setValue:function(A){var C=this.checked,B=this.inputValue;this.checked=(A===true||A==="true"||A=="1"||(B?A===B:String(A).toLowerCase()=="on"));if(this.rendered){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked;}if(C!=this.checked){this.fireEvent("check",this,this.checked);if(this.handler){this.handler.call(this.scope||this,this,this.checked);}}return this;}});}if(Ext.form.RadioGroup){var pref=Ext.form.RadioGroup.prototype.getValue;Ext.override(Ext.form.RadioGroup,{getCheckedItem:pref,setValueForItemProxy:Ext.form.RadioGroup.prototype.setValueForItem,getValue:function(){var A=this.getCheckedItem();return(A==null)?null:A.inputValue;},getText:function(){var A=this.getCheckedItem();return(A==null)?"":A.fieldLabel;},setValueForItem:function(A){this.setValueForItemProxy(Ext.isObject(A)?A.value:A);},onRender:function(B,A){Ext.form.RadioGroup.superclass.onRender.call(this,B,A);if(this.name){this.items.each(function(C){C.el.dom.name=this.name;},this);}}});}if(Ext.util.Format){Ext.util.Format.extractText=function(A){return A?A.text:"";};}if(Ext.form.Action){Ext.form.Action.CLIENT_INVALID="校验错误,详细信息请参见表单中的提示";Ext.form.Action.SERVER_INVALID="数据填写错误,详细信息请参见表单中的提示";Ext.form.Action.CONNECT_FAILURE="与服务器连接已断开";Ext.form.Action.LOAD_FAILURE="服务器发生未可知错误";}if(Ext.form.HtmlEditor){Ext.override(Ext.form.HtmlEditor,{adjustFont:function(D){var E=D.getItemId()==="increasefontsize"?1:-1,C=this.getDoc().queryCommandValue("FontSize")||"2",A=C.indexOf("px")!==-1,B;C=parseInt(C,10);if(A){if(C<=10){C=1+E;}else{if(C<=13){C=2+E;}else{if(C<=16){C=3+E;}else{if(C<=18){C=4+E;}else{if(C<=24){C=5+E;}else{C=6+E;}}}}}C=Ext.Number.constrain(C,1,6);}else{B=Ext.isSafari;if(B){E*=2;}C=Math.max(1,C+E)+(B?"px":0);}this.execCmd("FontSize",C);},fontFamilies:["宋体","黑体","隶书","Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"宋体"});}if(Ext.form.ComboBox){Ext.form.ComboBox.prototype.setVal=Ext.form.ComboBox.prototype.setValue;Ext.override(Ext.form.ComboBox,{getText:function(){return this.el.getValue();},setValue:function(A){if(typeof (A)=="object"){if(A.value){this.setVal(A.value);}if(A.text&&(!this.store||this.store.getCount()==0)){this.el.dom.value=A.text;}if(!A.value&&!A.text){this.el.dom.value=A.text;}}else{this.setVal(A);}},selectFirst:function(A){if(this.valueField&&this.store&&this.store.getCount()>0){var B=this.store.getAt(0);this.setValue(B.get(this.valueField));if(A){this.fireEvent("select",this,B,0);}}},findRecord:function(C,B){var A;if(this.store&&this.store.getCount()>0){this.store.each(function(D){if(D.data[C]==B){A=D;return false;}});}return A;}});}if(Ext.BoxComponent){Ext.namespace("Ext.ux");Ext.ux.IFrameComponent=Ext.extend(Ext.BoxComponent,{onRender:function(B,A){this.el=B.createChild({tag:"iframe",id:"iframe-"+this.id,name:this.id,frameBorder:0,src:this.url,width:this.width||"100%",height:this.height||"100%"});}});}if(Ext.form.Action.Submit){Ext.override(Ext.form.Action.Submit,{processResponse:function(A){this.response=A;if(this.form.fileUpload&&!A.responseText){return true;}if(!A.responseText&&!A.responseXML){return true;}this.result=this.handleResponse(A);return this.result;}});}if(Ext.BoxComponent){Ext.trueFn=function(){return true;};Ext.form.ViewField=Ext.extend(Ext.BoxComponent,{isFormField:true,disabled:false,bodyStyle:"",boxMinHeight:20,height:22,hasFocus:false,initComponent:function(){Ext.form.ViewField.superclass.initComponent.call(this);this.map={combo:this.comboFn};},defaultRender:function(B,A){if(!Ext.isDefined(this.style)){this.style="border:solid 1px #b5b8c8;float:left;padding:2 0 1 3;overflow-y:auto;";if(Ext.isDefined(this.width)){this.style+="width:"+this.width+"px;";}if(Ext.isDefined(this.height)){this.style+="height:"+this.height+"px;";}}Ext.form.ViewField.superclass.onRender.call(this,B,A);},setSize:function(A,B){Ext.form.ViewField.superclass.setSize.call(this,A,B+3);},comboFn:function(B,A){var D=this.value;if(this.valueField){this.store=Ext.StoreMgr.lookup(this.store);var C=this.findRecord(this.valueField,this.value);if(C){D=C.data[this.displayField];}else{if(this.valueNotFoundText!==undefined){D=this.valueNotFoundText;}}}this.value=D;this.defaultRender(B,A);},findRecord:function(E,D){var B;if(Ext.isArray(this.store)){for(var C=0,A=this.store;C<A.length;C++){if(A[C][0]==D){B={data:{}};B.data[this.displayField]=A[C][1];break;}}}else{if(this.store.getCount()>0){this.store.each(function(F){if(F.data[E]==D){B=F;return false;}});}}return B;},getName:function(){return this.name;},onRender:function(B,A){var C=this.map[this.oldXtype];if(!Ext.isDefined(C)){this.defaultRender(B,A);}else{C.call(this,B,A);}this.hiddenField=B.createChild({tag:"input",type:"hidden",name:this.name});},isDirty:function(){return false;},afterRender:function(){Ext.form.ViewField.superclass.afterRender.call(this);if(typeof (this.qtip)=="object"){Ext.QuickTips.register(Ext.apply({target:Ext.id(this.el)},this.qtip));}if(Ext.isDefined(this.value)){this.setValue(this.value,this.text);}},reset:Ext.emptyFn,beforeBlur:Ext.emptyFn,isValid:Ext.trueFn,validate:Ext.trueFn,validateValue:Ext.trueFn,markInvalid:Ext.emptyFn,getErrorCt:Ext.emptyFn,alignErrorIcon:Ext.emptyFn,clearInvalid:Ext.emptyFn,getRawValue:Ext.emptyFn,getValue:function(){return this.value;},setRawValue:Ext.emptyFn,setValue:function(A,B){if(typeof (B)=="undefined"){if(A instanceof Array){B=A[1];A=A[0];}else{if(typeof (A)=="object"){B=A.text;A=A.value;}else{B=A||"";}}}this.value=A;this.text=B;if(this.rendered){if(this.hiddenField){this.hiddenField.dom.value=A;}this.el.dom.innerHTML=B.loc();}},getText:function(){return this.text;}});Ext.reg("viewfield",Ext.form.ViewField);}Ext.override(Ext.data.Store,{toJsonArray:function(){var A=[];this.each(function(B){A.push(B.data);});return A;}});Ext.override(Ext.grid.ColumnModel,{destroy:function(){for(var B=0,A=this.config.length;B<A;B++){if(Ext.isFunction(this.config[B].destroy)){this.config[B].destroy();}}this.purgeListeners();}});Ext.override(Ext.grid.DateColumn,{format:"Y/m/d"});Ext.override(Ext.form.TextField,{chineseLength:2,getErrors:function(H){var G=Ext.form.TextField.superclass.getErrors.apply(this,arguments);H=Ext.isDefined(H)?H:this.processValue(this.getRawValue());if(Ext.isFunction(this.validator)){var A=this.validator(H);if(A!==true){G.push(A);}}var F=H.length;var D=H.length;if(D<1||H===this.emptyText){if(this.allowBlank){return G;}else{G.push(this.blankText);}}if(!this.allowBlank&&(D<1||H===this.emptyText)){G.push(this.blankText);}for(var C=0,B=D,E=this.chineseLength-1;C<B;C++){if(H.charCodeAt(C)>256){D+=E;}}if(D<this.minLength){G.push(String.format(this.minLengthText,this.minLength));}if(D>this.maxLength){G.push(String.format(this.maxLengthText,this.maxLength));}if(this.vtype){var I=Ext.form.VTypes;if(!I[this.vtype](H,this)){G.push(this.vtypeText||I[this.vtype+"Text"]);}}if(this.regex){if(!(this.regex instanceof RegExp)){this.regex=new RegExp(this.regex);}if(!this.regex.test(H)){G.push(this.regexText);}}return G;}});Ext.override(Ext.Resizable,{allowMove:false,onMouseDown:function(A,B){this._allowMove=true;if(this.enabled){B.stopEvent();this.activeHandle=A;this.startSizing(B,A);}},onMouseUp:function(B){this._allowMove=false;this.activeHandle=null;var A=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,A.width,A.height,B);},onMouseMove:function(T){if(this.enabled&&this.activeHandle&&this._allowMove){try{if(this.resizeRegion&&!this.resizeRegion.contains(T.getPoint())){return ;}var Q=this.curSize||this.startBox,I=this.startBox.x,H=this.startBox.y,C=I,B=H,J=Q.width,R=Q.height,D=J,L=R,K=this.minWidth,U=this.minHeight,P=this.maxWidth,X=this.maxHeight,F=this.widthIncrement,A=this.heightIncrement,V=T.getXY(),O=-(this.startPoint[0]-Math.max(this.minX,V[0])),M=-(this.startPoint[1]-Math.max(this.minY,V[1])),G=this.activeHandle.position,Y,E;switch(G){case"east":J+=O;J=Math.min(Math.max(K,J),P);break;case"south":R+=M;R=Math.min(Math.max(U,R),X);break;case"southeast":J+=O;R+=M;J=Math.min(Math.max(K,J),P);R=Math.min(Math.max(U,R),X);break;case"north":M=this.constrain(R,M,U,X);H+=M;R-=M;break;case"west":O=this.constrain(J,O,K,P);I+=O;J-=O;break;case"northeast":J+=O;J=Math.min(Math.max(K,J),P);M=this.constrain(R,M,U,X);H+=M;R-=M;break;case"northwest":O=this.constrain(J,O,K,P);M=this.constrain(R,M,U,X);H+=M;R-=M;I+=O;J-=O;break;case"southwest":O=this.constrain(J,O,K,P);R+=M;R=Math.min(Math.max(U,R),X);I+=O;J-=O;break;}var N=this.snap(J,F,K);var W=this.snap(R,A,U);if(N!=J||W!=R){switch(G){case"northeast":H-=W-R;break;case"north":H-=W-R;break;case"southwest":I-=N-J;break;case"west":I-=N-J;break;case"northwest":I-=N-J;H-=W-R;break;}J=N;R=W;}if(this.preserveRatio){switch(G){case"southeast":case"east":R=L*(J/D);R=Math.min(Math.max(U,R),X);J=D*(R/L);break;case"south":J=D*(R/L);J=Math.min(Math.max(K,J),P);R=L*(J/D);break;case"northeast":J=D*(R/L);J=Math.min(Math.max(K,J),P);R=L*(J/D);break;case"north":Y=J;J=D*(R/L);J=Math.min(Math.max(K,J),P);R=L*(J/D);I+=(Y-J)/2;break;case"southwest":R=L*(J/D);R=Math.min(Math.max(U,R),X);Y=J;J=D*(R/L);I+=Y-J;break;case"west":E=R;R=L*(J/D);R=Math.min(Math.max(U,R),X);H+=(E-R)/2;Y=J;J=D*(R/L);I+=Y-J;break;case"northwest":Y=J;E=R;R=L*(J/D);R=Math.min(Math.max(U,R),X);J=D*(R/L);H+=E-R;I+=Y-J;break;}}this.proxy.setBounds(I,H,J,R);if(this.dynamic){this.resizeElement();}}catch(S){}}}});Ext.History=(function(){var C;var I=false;var B=1;var F={_len:0};function D(){var J=location.href,K=J.indexOf("#");return K>=0?J.substr(K+1):"";}function E(K){var J=B;var L=K.indexOf("-");if(L!=-1){B=+K.substring(0,L);Ext.History.fireEvent("change",K.substring(L+1));}else{B=+K;}if(F._len>0&&F[K]==true){delete F[K];F._len--;}else{Ext.History.fireEvent("numberchange",B-J);}}function G(K){var J=['<html><body><div id="state">',Ext.util.Format.htmlEncode(K),"</div></body></html>"].join("");try{var M=C.contentWindow.document;M.open();M.write(J);M.close();return true;}catch(L){return false;}}function A(){if(!C.contentWindow||!C.contentWindow.document){setTimeout(A,10);return ;}var M=C.contentWindow.document;var K=M.getElementById("state");var J=K?K.innerText:"";var L=D();setInterval(function(){M=C.contentWindow.document;K=M.getElementById("state");var O=K?K.innerText:"";var N=D();if(O!==J){J=O;E(J);top.location.hash=J;L=J;}else{if(N!==L){L=N;G(N);}}},50);I=true;Ext.History.fireEvent("ready",Ext.History);}function H(){if(Ext.isIE){A();}else{var J=D();setInterval(function(){var K=D();if(K!==J){J=K;E(J);}},50);I=true;Ext.History.fireEvent("ready",Ext.History);}}return{events:{},init:function(L,K){if(I){Ext.callback(L,K,[this]);return ;}if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(L,K);});return ;}if(Ext.isIE){C=Ext.getBody().createChild({tag:"iframe",cls:"x-hidden"},false,true);}this.addEvents("ready","change","numberchange");if(L){this.on("ready",L,K,{single:true});}for(var J=1;J<10;J++){this.add();B=J+1;}H();},add:function(J,K){if(arguments.length==0){J=(B+1)+"";}else{if(K!==false){if(D()==B+"-"+J){return true;}}J=(B+1)+"-"+J;}if(Ext.isIE){return G(J);}else{top.location.hash=J;return true;}},back:function(){history.go(-1);},forward:function(){history.go(1);}};})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.onReady(Ext.History.init,Ext.History);function checkBrowser(){var A=navigator.userAgent.toLowerCase();var B=A.match(/msie ([\d.]+)/);if(B&&B[1]<=6){Ext.Msg.alert("提示".loc(),"您当前使用的浏览器为IE6.0.".loc()+"<br/>"+"由于IE6.0对脚本解析能力不足,导致系统性能下降,反应缓慢.".loc()+"<br/>"+"为了更好的使用,建议升级IE到更高版本8.0以上或使用Chrome浏览器!".loc());}}Ext.ux.clone=function(C){if(!C||"object"!==typeof C){return C;}var D="function"===typeof C.pop?[]:{};var B,A;for(B in C){if(C.hasOwnProperty(B)){A=C[B];if(A&&"object"===typeof A){D[B]=Ext.ux.clone(A);}else{D[B]=A;}}}return D;};Ext.onReady(function(){var A=function(){Ext.isMultiScreen=Ext.lib.Dom.getViewWidth()>2600;};Ext.EventManager.onWindowResize(A);A();});